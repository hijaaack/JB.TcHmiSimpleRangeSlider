var TcHmi,__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};!function(TcHmi){!function(Controls){!function(Beckhoff){var _a,_TcHmiTimespanPicker_tchmiFQN;class TcHmiTimespanPicker extends TcHmi.Controls.System.TcHmiControl{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__onPressedOkDestroyEvent=null,this.__onPressedCancelDestroyEvent=null,this.__onUserInteractionFinishedYearDestroyEvent=null,this.__onUserInteractionFinishedMonthDestroyEvent=null,this.__onUserInteractionFinishedDayDestroyEvent=null,this.__onUserInteractionFinishedHourDestroyEvent=null,this.__onUserInteractionFinishedMinuteDestroyEvent=null,this.__onUserInteractionFinishedSecondDestroyEvent=null,this.__onUserInteractionFinishedMillisecondDestroyEvent=null,this.__baseControls={},this.__restoreUserInputOnLoad=!1,this.__dataPrecedence=TcHmi.DataPrecedence.Data,this.__userInput=null,this.__mousedownHandler=this.__onMousedown(),this.__focusoutHandler=this.__onFocusOut(),this.__keypressHandler=this.__onKeyPress()}__previnit(){if(this.__elementTemplateRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template")[0],!this.__elementTemplateRoot)throw new Error("Invalid Template.html");this.__elementTSTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-overlay tchmi-timespan-picker-template-overlay tchmi-box"></div>'),this.__elementTSFirstBlockTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-first-block tchmi-timespan-picker-template-first-block tchmi-box"></div>'),this.__elementTSSecondBlockTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-second-block tchmi-timespan-picker-template-template-second-block tchmi-box"></div>');let yearTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-year-template tchmi-timespan-picker-year-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentYear=this.__addControls("Year",0,1);yearTemplate.append(docFragmentYear),this.__elementTSFirstBlockTemplate.append(yearTemplate);let monthTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-month-template tchmi-timespan-picker-month-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentMonth=this.__addControls("Month",0,1);monthTemplate.append(docFragmentMonth),this.__elementTSFirstBlockTemplate.append(monthTemplate);let dayTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-day-template tchmi-timespan-picker-day-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentDay=this.__addControls("Day",0,1);dayTemplate.append(docFragmentDay),this.__elementTSFirstBlockTemplate.append(dayTemplate);let hourTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-hour-template tchmi-timespan-picker-hour-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-template-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentHour=this.__addControls("Hour",0,1);hourTemplate.append(docFragmentHour),this.__elementTSSecondBlockTemplate.append(hourTemplate);let minuteTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-minute-template tchmi-timespan-picker-minute-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentMinute=this.__addControls("Minute",0,1);minuteTemplate.append(docFragmentMinute),this.__elementTSSecondBlockTemplate.append(minuteTemplate);let secondTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-second-template tchmi-timespan-picker-second-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentSecond=this.__addControls("Second",0,1);secondTemplate.append(docFragmentSecond),this.__elementTSSecondBlockTemplate.append(secondTemplate);let millisecondTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-millisecond-template tchmi-timespan-picker-millisecond-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-spinbox tchmi-timespan-picker-template-spinbox"></div>'),docFragmentMillisecond=this.__addControls("Millisecond",0,3,999);millisecondTemplate.append(docFragmentMillisecond),this.__elementTSTemplate[0].appendChild(this.__elementTSFirstBlockTemplate[0]),this.__elementTSTemplate[0].appendChild(this.__elementTSSecondBlockTemplate[0]),this.__elementTSTemplate[0].appendChild(millisecondTemplate[0]);let cancelButton=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_cancelButton",{"data-tchmi-text":"%l%Control::TcHmi.Controls.Beckhoff.TcHmiTimespanPicker::Button_Text_Cancel%/l%"},this);if(void 0===cancelButton)throw new Error("Needed Button could not be instantiated");cancelButton.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-action-button","tchmi-timespan-picker-template-action-button"),this.__elementTSTemplate[0].appendChild(cancelButton.getElement()[0]),cancelButton.getElement()[0].style.clear="both",this.__baseControls[this.__id+"_cancelButton"]=cancelButton;let okButton=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_okButton",{"data-tchmi-text":"%l%Control::TcHmi.Controls.Beckhoff.TcHmiTimespanPicker::Button_Text_Ok%/l%"},this);if(void 0===okButton)throw new Error("Needed Button could not be instantiated");okButton.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-action-button","tchmi-timespan-picker-template-action-button"),this.__elementTSTemplate[0].appendChild(okButton.getElement()[0]),this.__baseControls[this.__id+"_okButton"]=okButton,super.__previnit()}__init(){super.__init(),this.__storage=new TcHmi.LocalStorage(this,{});const passiveEventOptions={passive:!0,capture:!1};this.__element[0].addEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&passiveEventOptions),this.__element[0].addEventListener("focusout",this.__focusoutHandler,passiveEventOptions),this.__element[0].addEventListener("keypress",this.__keypressHandler,passiveEventOptions)}__attach(){if(super.__attach(),this.__restoreUserInputOnLoad){const userInput=this.__storage?.get("userInput");userInput&&(this.__userInput=userInput,this.__evaluateDataPrecedence(this.__value??null)||this.__setValue(userInput.userData))}this.__onPressedOkDestroyEvent=TcHmi.EventProvider.register(this.__id+"_okButton.onPressed",this.__onPressed()),this.__onPressedCancelDestroyEvent=TcHmi.EventProvider.register(this.__id+"_cancelButton.onPressed",this.__onPressed()),this.__onUserInteractionFinishedYearDestroyEvent=TcHmi.EventProvider.register(this.__id+"_yearValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedMonthDestroyEvent=TcHmi.EventProvider.register(this.__id+"_monthValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedDayDestroyEvent=TcHmi.EventProvider.register(this.__id+"_dayValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedHourDestroyEvent=TcHmi.EventProvider.register(this.__id+"_hourValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedMinuteDestroyEvent=TcHmi.EventProvider.register(this.__id+"_minuteValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedSecondDestroyEvent=TcHmi.EventProvider.register(this.__id+"_secondValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedMillisecondDestroyEvent=TcHmi.EventProvider.register(this.__id+"_millisecondValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished())}__detach(){super.__detach(),null!==this.__onPressedOkDestroyEvent&&(this.__onPressedOkDestroyEvent(),this.__onPressedOkDestroyEvent=null),null!==this.__onPressedCancelDestroyEvent&&(this.__onPressedCancelDestroyEvent(),this.__onPressedCancelDestroyEvent=null),null!==this.__onUserInteractionFinishedYearDestroyEvent&&(this.__onUserInteractionFinishedYearDestroyEvent(),this.__onUserInteractionFinishedYearDestroyEvent=null),null!==this.__onUserInteractionFinishedMonthDestroyEvent&&(this.__onUserInteractionFinishedMonthDestroyEvent(),this.__onUserInteractionFinishedMonthDestroyEvent=null),null!==this.__onUserInteractionFinishedDayDestroyEvent&&(this.__onUserInteractionFinishedDayDestroyEvent(),this.__onUserInteractionFinishedDayDestroyEvent=null),null!==this.__onUserInteractionFinishedHourDestroyEvent&&(this.__onUserInteractionFinishedHourDestroyEvent(),this.__onUserInteractionFinishedHourDestroyEvent=null),null!==this.__onUserInteractionFinishedMinuteDestroyEvent&&(this.__onUserInteractionFinishedMinuteDestroyEvent(),this.__onUserInteractionFinishedMinuteDestroyEvent=null),null!==this.__onUserInteractionFinishedSecondDestroyEvent&&(this.__onUserInteractionFinishedSecondDestroyEvent(),this.__onUserInteractionFinishedSecondDestroyEvent=null),null!==this.__onUserInteractionFinishedMillisecondDestroyEvent&&(this.__onUserInteractionFinishedMillisecondDestroyEvent(),this.__onUserInteractionFinishedMillisecondDestroyEvent=null)}destroy(){if(this.__keepAlive)return;const passiveEventOptions={passive:!0,capture:!1};this.__element[0].removeEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&passiveEventOptions),this.__element[0].removeEventListener("focusout",this.__focusoutHandler,passiveEventOptions),this.__element[0].removeEventListener("keypress",this.__keypressHandler,passiveEventOptions),super.destroy()}__addControls(name,value,zeroPadding,maxValue=null){let spinbox,docFragment=document.createDocumentFragment(),labelTextblock=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTextblock",this.__id+"_"+name+"_Label",{"data-tchmi-text-horizontal-alignment":"Center","data-tchmi-text-vertical-alignment":"Center","data-tchmi-text":`%l%Control::TcHmi.Controls.Beckhoff.TcHmiTimespanPicker::Label_Text_${name}s%/l%`},this);if(void 0===labelTextblock)throw new Error("Needed Textblock could not be instantiated");if(labelTextblock.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-label","tchmi-timespan-picker-template-label"),docFragment.appendChild(labelTextblock.getElement()[0]),void 0===TcHmi.Controls.get(this.__id+"_"+name)&&(spinbox=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiSpinboxInput",this.__id+"_"+name,{"data-tchmi-value":value,"data-tchmi-value-horizontal-alignment":"Center","data-tchmi-auto-focus-out":!0,"data-tchmi-zero-padding":zeroPadding,"data-tchmi-button-position":"PlusTopAndMinusBottom","data-tchmi-min-value":0,"data-tchmi-max-value":maxValue,"data-tchmi-auto-step":!0},this)),!spinbox)throw new Error("Needed Spinbox could not be instantiated");return docFragment.appendChild(spinbox.getElement()[0]),this.__baseControls[this.__id+"_"+name]=spinbox,docFragment}__timespanObjectToIso(timespanObject){if(0===timespanObject.years&&0===timespanObject.months&&0===timespanObject.days&&0===timespanObject.hours&&0===timespanObject.minutes&&0===timespanObject.seconds&&0===timespanObject.milliseconds)return"PT0S";let isoString="P";if(timespanObject.years>0&&(isoString+=timespanObject.years+"Y"),timespanObject.months>0&&(isoString+=timespanObject.months+"M"),timespanObject.days>0&&(isoString+=timespanObject.days+"D"),(timespanObject.hours>0||timespanObject.minutes>0||timespanObject.seconds>0||timespanObject.milliseconds>0)&&(isoString+="T"),timespanObject.hours>0&&(isoString+=timespanObject.hours+"H"),timespanObject.minutes>0&&(isoString+=timespanObject.minutes+"M"),timespanObject.seconds>0||timespanObject.milliseconds>0){isoString+=(timespanObject.seconds+timespanObject.milliseconds/1e3).toFixed(3).replace(/\.000$|0+$/,"")+"S"}return isoString}__updateValue(){if(this.__directDisplay&&!this.__showConfirmationButtons){let timespanObject=this.__getTimespanObject(),value=this.__timespanObjectToIso(timespanObject);this.__userInput?this.__userInput.userData=value:this.__userInput={userData:value,originalData:this.__value??null},this.__restoreUserInputOnLoad&&this.__storage?.set("userInput",this.__userInput),this.__setValue(value,!1)}}__isoToTimespanObject(t){let object={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0},seconds=0,minutes=0,hours=0,days=0,months=0,years=0,isTime=!1,current=t.split("");for(let i=0,ii=current.length;i<ii;i++){let num=0,sNum="";for(;current[i]>="0"&&current[i]<="9"||"."===current[i];)sNum+=current[i],i++,num=parseFloat(sNum);switch(current[i]){case"Y":years=num;break;case"D":days=num;break;case"T":isTime=!0;break;case"H":hours=num;break;case"M":isTime?minutes=num:months=num;break;case"S":seconds=num}}object.years=years,object.months=months,object.days=days,object.hours=hours,object.minutes=minutes;let splittedSeconds=seconds.toString().split(".");if(splittedSeconds.length>1){object.seconds=parseInt(splittedSeconds[0],10);let milliseconds=1e3*parseFloat("0."+splittedSeconds[1]);object.milliseconds=milliseconds}else object.seconds=parseInt(splittedSeconds[0],10),object.milliseconds=0;return object}__onMousedown(){return event=>{this.getIsEnabled()&&TcHmi.Access.checkAccess(this,"operate")&&this.openTimespanPicker()}}__onFocusOut(){return event=>{this.__directDisplay&&!this.__showConfirmationButtons&&setTimeout((()=>{let focusedElement=document.activeElement;for(;focusedElement&&focusedElement!==this.__element[0];)focusedElement=focusedElement.parentElement;null===focusedElement&&TcHmi.EventProvider.raise(this.__id+".onUserInteractionFinished")}),0)}}__onKeyPress(){return event=>{this.__directDisplay&&!this.__showConfirmationButtons&&13===event.keyCode&&document.activeElement?.blur()}}openTimespanPicker(){if(!this.__directDisplay){if(!this.getIsAttached())return void(TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx(`[Source=Control, Module=${this.__type+(__classPrivateFieldGet(TcHmiTimespanPicker,_a,"f",_TcHmiTimespanPicker_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiTimespanPicker,_a,"f",_TcHmiTimespanPicker_tchmiFQN):"")}, Id=${this.getId()}] Could not open picker overlay. The control needs to be attached to the dom.`));TcHmi.TopMostLayer.add(this,this.__elementTSTemplate,{centerHorizontal:!0,centerVertical:!0,removeCb:data=>{data.canceled&&(TcHmi.EventProvider.raise(this.__id+".onCancel"),TcHmi.EventProvider.raise(this.__id+".onUserInteractionFinished"),this.__processValue())}})}}closeTimespanPicker(){this.__elementTSTemplate[0].classList.contains("tchmi-in-topmostlayer")&&TcHmi.TopMostLayer.remove(this,this.__elementTSTemplate),TcHmi.EventProvider.raise(this.__id+".onCancel"),TcHmi.EventProvider.raise(this.__id+".onUserInteractionFinished"),this.__processValue()}__getTimespanObject(){let timespanObject={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0},yearSpinboxBase=this.__baseControls[this.__id+"_Year"];if(void 0!==yearSpinboxBase){const yearSpinbox=yearSpinboxBase;timespanObject.years=yearSpinbox.getValue()??0}let monthSpinboxBase=this.__baseControls[this.__id+"_Month"];if(void 0!==monthSpinboxBase){const monthSpinbox=monthSpinboxBase;timespanObject.months=monthSpinbox.getValue()??0}let daySpinboxBase=this.__baseControls[this.__id+"_Day"];if(void 0!==daySpinboxBase){const daySpinbox=daySpinboxBase;timespanObject.days=daySpinbox.getValue()??0}let hourSpinboxBase=this.__baseControls[this.__id+"_Hour"];if(void 0!==hourSpinboxBase){const hourSpinbox=hourSpinboxBase;timespanObject.hours=hourSpinbox.getValue()??0}let minuteSpinboxBase=this.__baseControls[this.__id+"_Minute"];if(void 0!==minuteSpinboxBase){const minuteSpinbox=minuteSpinboxBase;timespanObject.minutes=minuteSpinbox.getValue()??0}let secondSpinboxBase=this.__baseControls[this.__id+"_Second"];if(void 0!==secondSpinboxBase){const secondSpinbox=secondSpinboxBase;timespanObject.seconds=secondSpinbox.getValue()??0}let millisecondSpinboxBase=this.__baseControls[this.__id+"_Millisecond"];if(void 0!==millisecondSpinboxBase){const millisecondSpinbox=millisecondSpinboxBase;timespanObject.milliseconds=millisecondSpinbox.getValue()??0}return timespanObject}__onPressed(){return evt=>{if(evt.name.includes("ok")){let timespanObject=this.__getTimespanObject(),value=this.__timespanObjectToIso(timespanObject);this.__userInput?this.__userInput.userData=value:this.__userInput={userData:value??"",originalData:this.__value??null},this.__restoreUserInputOnLoad&&this.__storage?.set("userInput",this.__userInput),this.__setValue(value,!1),TcHmi.EventProvider.raise(this.__id+".onConfirmed"),TcHmi.EventProvider.raise(this.__id+".onUserInteractionFinished"),TcHmi.TopMostLayer.remove(this,this.__elementTSTemplate)}else evt.name.includes("cancel")&&this.closeTimespanPicker()}}__onUserInteractionFinished(){return evt=>{this.__updateValue()}}setValue(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("Value")),this.__evaluateDataPrecedence(convertedValue)&&this.__setValue(convertedValue)}__setValue(valueNew,process=!0){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("Value")),convertedValue!==this.__value&&(this.__value=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Value"}),TcHmi.EventProvider.raise(this.__id+".onValueChanged",this.__value),process&&this.__processValue())}getValue(){return this.__value?this.__value:"PT0S"}__processValue(){let timespanObject={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0};null!==this.__value&&void 0!==this.__value&&(timespanObject=this.__isoToTimespanObject(this.__value));let yearSpinboxBase=this.__baseControls[this.__id+"_Year"];if(void 0!==yearSpinboxBase){yearSpinboxBase.setValue(timespanObject.years)}let monthSpinboxBase=this.__baseControls[this.__id+"_Month"];if(void 0!==monthSpinboxBase){monthSpinboxBase.setValue(timespanObject.months)}let daySpinboxBase=this.__baseControls[this.__id+"_Day"];if(void 0!==daySpinboxBase){daySpinboxBase.setValue(timespanObject.days)}let hourSpinboxBase=this.__baseControls[this.__id+"_Hour"];if(void 0!==hourSpinboxBase){hourSpinboxBase.setValue(timespanObject.hours)}let minuteSpinboxBase=this.__baseControls[this.__id+"_Minute"];if(void 0!==minuteSpinboxBase){minuteSpinboxBase.setValue(timespanObject.minutes)}let secondSpinboxBase=this.__baseControls[this.__id+"_Second"];if(void 0!==secondSpinboxBase){secondSpinboxBase.setValue(timespanObject.seconds)}let millisecondSpinboxBase=this.__baseControls[this.__id+"_Millisecond"];if(void 0!==millisecondSpinboxBase){millisecondSpinboxBase.setValue(timespanObject.milliseconds)}}setRestoreUserInputOnLoad(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("RestoreUserInputOnLoad")),convertedValue!==this.__restoreUserInputOnLoad&&(this.__restoreUserInputOnLoad=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"RestoreUserInputOnLoad"}),this.__processRestoreUserInputOnLoad())}getRestoreUserInputOnLoad(){return this.__restoreUserInputOnLoad}__processRestoreUserInputOnLoad(){this.__restoreUserInputOnLoad?this.__userInput&&this.__storage?.set("userInput",this.__userInput):this.__storage?.delete("userInput")}resetUserInput(restoreOriginalValue){this.__userInput&&(restoreOriginalValue&&this.__setValue(this.__userInput.originalData),this.__userInput=null,this.__storage?.delete("userInput"))}setDataPrecedence(valueNew){let convertedValue=TcHmi.ValueConverter.toEnum(valueNew,TcHmi.DataPrecedence);null===convertedValue&&(convertedValue=TcHmi.ValueConverter.toEnum(this.getAttributeDefaultValueInternal("DataPrecedence"),TcHmi.DataPrecedence,TcHmi.DataPrecedence.Data)),convertedValue!==this.__dataPrecedence&&(this.__dataPrecedence=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DataPrecedence"}))}getDataPrecedence(){return this.__dataPrecedence}__evaluateDataPrecedence(incoming){if(!this.__userInput||void 0===this.__dataPrecedence)return!0;switch(this.__dataPrecedence){case TcHmi.DataPrecedence.Data:return this.__userInput=null,this.__storage?.delete("userInput"),!0;case TcHmi.DataPrecedence.UserInput:return this.__userInput.originalData!==incoming&&(this.__userInput.originalData=incoming,this.__storage?.set("userInput",this.__userInput)),!1;case TcHmi.DataPrecedence.ChangedDataOnly:return this.__userInput.originalData!==incoming&&(this.__userInput=null,this.__storage?.delete("userInput"),!0)}}setDirectDisplay(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("DirectDisplay")),convertedValue!==this.__directDisplay&&(this.__directDisplay=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DirectDisplay"}),this.__processDirectDisplay())}getDirectDisplay(){return this.__directDisplay}__processDirectDisplay(){this.__directDisplay?(this.__elementTSTemplate[0].classList.contains("tchmi-in-topmostlayer")&&(TcHmi.TopMostLayer.remove(this,this.__elementTSTemplate),TcHmi.EventProvider.raise(this.__id+".onCancel"),TcHmi.EventProvider.raise(this.__id+".onUserInteractionFinished")),null===this.__elementTSTemplate[0].parentElement&&this.__elementTemplateRoot.append(this.__elementTSTemplate[0]),this.__element[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-direct-display"),this.__element[0].setAttribute("tabindex","0")):(this.__elementTSTemplate[0].parentElement===this.__elementTemplateRoot&&this.__elementTemplateRoot.removeChild(this.__elementTSTemplate[0]),this.__element[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-direct-display"),this.__element[0].removeAttribute("tabindex")),this.__processShowConfirmationButtons()}setShowConfirmationButtons(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ShowConfirmationButtons")),convertedValue!==this.__showConfirmationButtons&&(this.__showConfirmationButtons=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowConfirmationButtons"}),this.__processShowConfirmationButtons())}getShowConfirmationButtons(){return this.__showConfirmationButtons}__processShowConfirmationButtons(){if(!1===this.__showConfirmationButtons&&this.__directDisplay){let cancelButton=this.__baseControls[this.__id+"_cancelButton"];cancelButton&&(cancelButton.getElement()[0].style.display="none");let okButton=this.__baseControls[this.__id+"_okButton"];okButton&&(okButton.getElement()[0].style.display="none")}else{let cancelButton=this.__baseControls[this.__id+"_cancelButton"];cancelButton&&(cancelButton.getElement()[0].style.display="");let okButton=this.__baseControls[this.__id+"_okButton"];okButton&&(okButton.getElement()[0].style.display="")}}__processIsEnabled(){super.__processIsEnabled(),this.getIsEnabled()||this.__elementTSTemplate[0].classList.contains("tchmi-in-topmostlayer")&&(TcHmi.TopMostLayer.remove(this,this.__elementTSTemplate),TcHmi.EventProvider.raise(this.__id+".onCancel"),TcHmi.EventProvider.raise(this.__id+".onUserInteractionFinished"))}}_TcHmiTimespanPicker_tchmiFQN={value:"TcHmi.Controls.Beckhoff."+(_a=TcHmiTimespanPicker).name},Beckhoff.TcHmiTimespanPicker=TcHmiTimespanPicker}(Controls.Beckhoff||(Controls.Beckhoff={}))}(TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiTimespanPicker","TcHmi.Controls.Beckhoff",TcHmi.Controls.Beckhoff.TcHmiTimespanPicker);